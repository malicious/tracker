<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style type="text/css">
body {
  font-family: 'Source Code Pro', monospace;
  width: 85%;
}
div {
    border: 0px;
    padding: 8px;
    overflow-wrap: break-word;
}
a {
  text-decoration: none;
}
.task {
    border: 1px solid rgba(0,0,0,.125);
    color: dimgray;
    -webkit-user-select: all;
}
.category {
    color: black;
    -webkit-user-select: all;
}
.task .time_estimate {
  color: brown;
}
    </style>
</head>
<body>
{% set ns = namespace() %}
{% set ns.prev = None %}

{% for task in tasks %}
    {% if task.category
       and not (ns.prev.category and task.category == ns.prev.category) %}
    <div><br /></div>
    <div class="category">
        ### {{ task.category }}
    </div>
    {% endif %}
    <div class="task">
        *
        {% if task.short_scope(ref_scope) %}
        <span class="scope">
            {{ task.short_scope(ref_scope) }}:
        </span>
        {% endif %}
        <span class="task_desc">
            {{ link_replacer(task['desc'])|safe }}
        </span>
        {% if task.time_estimate %}
        <span class="time_estimate">
            `{{ task.time_estimate }}h`
        </span>
        {% endif %}
    </div>
    {% set ns.prev = task %}
{% endfor %}

</body>
</html>
